/*! For license information please see event-listener-options.js.LICENSE.txt */
var _a;const supportsEventOptions=(()=>{let e=!1,t=!1;const n={get capture(){return e=!0,!0},get once(){return t=!0,!0}};let o=0;const a=()=>{o++},i=document.createElement("div");i.addEventListener("click",a,n);let r=e&&t;return r&&(i.dispatchEvent(new Event("click")),i.dispatchEvent(new Event("click")),r=1==o),i.removeEventListener("click",a,n),r})(),nativeEventTarget=null!==(_a=window.EventTarget)&&void 0!==_a?_a:window.Node;if(!supportsEventOptions&&"addEventListener"in nativeEventTarget.prototype){const e=e=>{let t,n;return!e||"object"!=typeof e&&"function"!=typeof e?(t=Boolean(e),n=!1):(t=Boolean(e.capture),n=Boolean(e.once)),{capture:t,once:n}},t=nativeEventTarget.prototype.addEventListener,n=nativeEventTarget.prototype.removeEventListener,o=new WeakMap,a=new WeakMap,i=(e,t,n)=>{const i=n?o:a;let r=i.get(e);void 0===r&&i.set(e,r=new Map);let l=r.get(t);return void 0===l&&r.set(t,l=new WeakMap),l};nativeEventTarget.prototype.addEventListener=function(o,a,r){if(null==a)return;const{capture:l,once:c}=e(r),v=i(this,o,l);if(!v.has(a)){const e=c?t=>(v.delete(a),n.call(this,o,e,l),"function"==typeof a?a.call(this,t):"function"==typeof(null==a?void 0:a.handleEvent)?a.handleEvent(t):void 0):null;v.set(a,e),t.call(this,o,null!=e?e:a,l)}},nativeEventTarget.prototype.removeEventListener=function(t,o,a){if(null==o)return;const{capture:r}=e(a),l=i(this,t,r),c=l.get(o);void 0!==c&&(l.delete(o),n.call(this,t,null!=c?c:o,r))}}export{};